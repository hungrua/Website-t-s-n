<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />


<title>account setting or edit profile - Bootdey.com</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<link href="/templates/vendor/bootstrap/css/bootstrap.min.css"
	rel="stylesheet" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
	crossorigin="anonymous" />
<!-- Google fonts-->
<link
	href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
	rel="stylesheet" />
<link
	href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
	rel="stylesheet" type="text/css" />
<!-- Custom styles for this template -->
<script src="https://kit.fontawesome.com/b5df635135.js"
	crossorigin="anonymous"></script>
<link href="/templates/CSS/shop-homepage.css" rel="stylesheet" />
<link rel="stylesheet" href="/templates/CSS/mycss.css" />
<link rel="stylesheet" href="/templates/CSS/userInfo.css" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
	<nav
		class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top header "
		th:object="${user}">
		<div class="container nav-container">
			<a class="navbar-brand nav-items" th:href="@{/user/page}">Liver
				Sport</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto selections">
					<li class="nav-item active nav-selection"><a
						class="nav-link nav-items" th:href="@{/booking}">Booking <span
							class="sr-only">(current)</span></a></li>
					<li class="nav-item nav-selection"><a
						class="nav-link nav-items" th:href="@{/yourMatch}">Your match</a>
					</li>
					<li class="nav-item nav-selection"><a
						class="nav-link nav-items" href="#">Favourite</a></li>
					<li th:if="${user == null}" class="nav-item"
						style="display: flex; align-items: center;"><a
						class="nav-link" id="login-tag" th:href="@{/login}">Login</a></li>
					<li th:if="${user != null}" class="nav-item"
						style="display: flex; align-items: center;"><a
						class="nav-link" id="greeting-tag" th:text="${user.fullName}"
						th:attr="data-userId=${user.id},data-userName=${user.userName},data-password=${user.password},data-roleId=${user.roleId}"></a>
					</li>
					<li class="nav-item" style="padding: 0 10px;"><img
						th:if="${user != null}"
						th:src="@{'/templates/image/avatar/' +${user.image}}"
						style="width: 40px; height: 40px; border-radius: 50%; border: 1px solid aliceblue; object-fit: cover;" />
					</li>
					<li th:if="${user != null}" class="nav-item"
						style="display: flex; align-items: center;"><a
						class="nav-link" th:href="@{/}"> <i
							class="fa-solid fa-right-from-bracket"> </i>
					</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container user-container" th:object="${user}">
		<div class="row gutters">
			<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
				<div class="card h-100">
					<div class="card-body">
						<div class="account-settings">
							<div class="user-profile">
								<div class="user-avatar">
									<img id="avatar"
										th:src="@{'/templates/image/avatar/' +${user.image}}"
										th:attr="data-image=${user.image}" alt="Maxwell Admin" /> <input
										type="file" name="" id="avatarInput" />
									<div id="avatar-url"></div>
								</div>
								<h5 class="user-name" th:text="${user.userName}" ></h5>
								<h6 class="user-email">
									<a href="#" class="__cf_email__"
										data-cfemail="6019150b09202d011817050c0c4e030f0d"
										th:text="${user.email}"></a>
								</h6>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
				<div class="card h-100">
					<form th:action="@{save/{id}(id=${user.id})}" th:method="PUT">
						<div class="card-body">
							<div class="row gutters">
								<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
									<h6 class="mb-2 text-primary">Personal Details</h6>
								</div>
								<input type="hidden" name="image" id="image"
									th:value="${user.image}" />
								<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
									<div class="form-group">
										<label for="fullName">Full Name</label> 
										<input type="text"
											name="fullName" class="form-control" id="fullName"
											placeholder="Enter full name" th:value="${user.fullName}" required="true" />
									</div>
								</div>
								<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
									<div class="form-group">
										<label for="eMail">Email</label> 
										<input type="email"
											name="email" class="form-control" id="eMail"
											placeholder="Enter email ID" th:value="${user.email}" required="true"  />
									</div>
								</div>
								<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
									<div class="form-group">
										<label for="phone">Phone</label> 
										<input type="text"
											name="phone" class="form-control" id="phone"
											placeholder="Enter phone number" th:value="${user.phone}" required="true"  />
									</div>
								</div>
							</div>
							<div class="row gutters">
								<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
									<h6 class="mt-3 mb-2 text-primary">Address</h6>
								</div>
								<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
									<div class="form-group">
										<label for="cities">City</label> <br></br>
										<select name="city" id="cities"
											onchange="getValueForSecondInput()" required="true"  >
											<option value="--Thành phố--">--Thành phố--</option>
											<option th:selected="${user.city =='Hà Nội'}" value="Hà Nội">Hà Nội</option>
											<option th:selected="${user.city =='Thành phố Hồ Chí Minh'}" value="Thành phố Hồ Chí Minh">Thành phố Hồ Chí Minh</option>
										</select>
									</div>
								</div>
								<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
									<div class="form-group">
										<label for="district">District</label> <br></br>
										 <select
											id="district" name="district" required="true"  >
											<option value="">--Quận huyện--</option>
											<option th:selected="${user.district}" th:text="${user.district}" ></option>
										</select>
									</div>
								</div>
							</div>
							<div class="row gutters">
								<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
									<div class="text-right">
										<input type="submit" value="Save" id="submit" name="submit"
											class="btn btn-primary" />
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<script data-cfasync="false"
		src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
	<script>

        const image = document.getElementById("avatar")
        var input = document.getElementById("avatarInput");
        input.addEventListener("change", () =>{
            image.src = URL.createObjectURL(input.files[0]);
            $("#image").val(input.value.split('\\').pop());
        })
        
        
        function getValueForSecondInput() {
        var options = {
              '--Thành phố--':{
                '--Quận huyện--' : ""
              },
              'Hà Nội': {
                  '--Quận huyện--' : "", 
                  'Ba Đình': "Ba Đình",
                  'Bắc Từ Liêm': "Bắc Từ Liêm",
                  'Cầu Giấy': "Cầu Giấy",
                  'Đống Đa': "Đống Đa",
                  'Hà Đông': "Hà Đông",
                  'Hai Bà Trưng': "Hai Bà Trưng",
                  'Hoàn Kiếm':'Hoàn Kiếm',
                  'Hoàng Mai': 'Hoàng Mai',
                  'Long Biên': 'Long Biên',
                  'Nam Từ Liêm' :'Nam Từ Liêm',
                  'Tây Hồ' : 'Tây Hồ',
                  'Thanh Xuân': 'Thanh Xuân'
              },
              'Thành phố Hồ Chí Minh': {
                  '--Quận huyện--' : "",
                  "Bình Chánh": 'Bình Chánh',
                  "Bình Tân" : 'Bình Tân',
                  "Bình Thạnh" :'Bình Thạnh',
                  "Cần Giờ": 'Cần Giờ',
                  "Củ Chi" : 'Củ Chi',
                  "Quận 1" : 'Quận 1',
                  "Quận 2" : 'Quận 2',
                  "Quận 3": 'Quận 3',
                  "Quận 4": 'Quận 4',
                  "Quận 5": 'Quận 5',
                  "Quận 6": 'Quận 6',
                  "Quận 7": 'Quận 7',
                  "Quận 8": 'Quận 8',
                  "Quận 9": 'Quận 9',
                  "Quận 10": 'Quận 10',
                  "Quận 11": 'Quận 11',
                  "Quận 12": 'Quận 12',
                  "Gò Vấp": 'Gò Vấp',
                  "Hóc Môn":'Hóc Môn',
                  "Nhà Bè" :'Nhà Bè',
                  "Phú Nhuận" : 'Phú Nhuận',
                  "Tân Bình" :'Tân Bình',
                  "Tân Phú" :'Tân Phú',
                  "Thủ Đức" : 'Thủ Đức'
              }
            
          };
        var select1Value = $('#cities').val();
        var select2Options = options[select1Value];
        // console.log(select2Options)
        var select2 = $('#district');
        select2.empty();
        for (let [key, value] of Object.entries(select2Options)) {

          select2.append(`<option value="${value}">${key}</option>`);
        }

      }
        // function saveUser(){
        //     let user = {
        //     		"id": $("#greeting-tag").attr("data-userId"),
        //     		"userName" : $("#greeting-tag").attr("data-userName"),
        //     		"roleId": $("#greeting-tag").attr("data-roleId"),
        //     		"password" : $("#greeting-tag").attr("data-password"),
        //     		"fullName" :$('#fullName').val(),
        //     		"email": $('#eMail').val(),
        //     		"phone": $('#phone').val(),
        //     		"district" : $('#district').val(),
        //     		"city" : $('#cities').val(),
        //     		"image" : document.getElementById("avatarInput").value==""?$("#avatar").attr("data-image"):document.getElementById("avatarInput").value.split('\\').pop()
        //     };
        //     $.ajax
        // }
    </script>
</body>
</html>