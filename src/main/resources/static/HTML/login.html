<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link rel="stylesheet" href="/CSS/login.css">

    <script src="/JS/login.js"></script>
</head>
<body>
    <form id="sign-in" action="http://localhost:8082/j_spring_security_check" method="post" >
        <h2>Sign in</h2>
        <div class="form-floating mb-3">
            <input type="userName" class="form-control" id="floatingInput" placeholder="userName" name="username" required>
            <label for="floatingInput">User Name</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" id="floatingPass" placeholder="Password" name="password" required>
            <label for="floatingPass">Password</label>
        </div>
        <!-- <button onclick="accountCheck()" id="submit-btn"> Login  </button> -->
        <input type="submit" value=" Login " id="submit-btn" onclick="accountCheck()">
        <div class="newAccount">
            Don't have an account?
            <span id="register"> Register </span>
        </div>
    </form>
    <form action="" id="sign-up">
        <h2>Register</h2>
        <div class="form-floating mb-3">
            <input type="userName" class="form-control" id="floatingUserName" placeholder="userName"  required>
            <label for="floatingUserName">User Name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="floatingEmail" placeholder="Email" required>
            <label for="floatingEmail">Email</label>
        </div>
        <div class="form-floating mb-3">
            <input type="password" class="form-control" id="floatingPassword" placeholder="Password" required>
            <label for="floatingPassword">Password</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" id="floatingPasswordConfirm" placeholder="Password" required>
            <label for="floatingPasswordConfirm">Confirm your password</label>
        </div>
        <button id="create-acc">Create account</button>
        <span id="return-login">Back to sign in</span>
    </form>

    <!-- <script>
        // const accountCheckAPI ="http://localhost:8082/j_spring_security_check"
        function accountCheck(){
            var form = $("#sign-in");
            var url = "/j_spring_security_check";
            var method = "POST";
            var username = $("#floatingInput").val()
            var password = $("#floatingPass").val()
            console.log(username)
            $.ajax({
                url: url+"?"+form.serialize() ,
                type: method,
                success: function(response) {
                    // console.log(response);
                    // If the response is an HTML file, extract the content and set the window.location.href to the URL of the file
                    // var htmlContent = $(response).find('html').html();
                    // window.location.href = "data:text/html;charset=utf-8," + encodeURIComponent(htmlContent);
                    window.location.href = response
                },
                error: function(xhr, status, error) {
                    console.log("Failed")
                }
            })
        }
    </script> -->
</body>
</html>